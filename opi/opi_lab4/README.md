# Лабораторная работа #4 - MBean Мониторинг

## Описание MBean компонентов

В данной лабораторной работе были разработаны два MBean-компонента для мониторинга взаимодействия пользователя с приложением:

1. **PointStatisticsMBean** - отслеживает:
   - Общее число установленных пользователем точек
   - Число точек, не попадающих в область
   - Отправляет уведомления при 2-х промахах подряд

2. **PointRatioMBean** - определяет:
   - Процентное отношение "промахов" к общему числу кликов пользователя

## Использование JConsole для мониторинга

1. Запустите ваше приложение
2. Откройте JConsole:
   ```
   jconsole
   ```
3. В списке "Локальные процессы" выберите ваше запущенное Java-приложение или подключитесь удаленно:
   ```
   service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi
   ```
4. Откройте вкладку "MBeans"
5. В дереве MBean-компонентов найдите `server.beans`:
   - `type=PointStatistics` - статистика точек
   - `type=PointRatio` - процентное соотношение

## Результаты мониторинга

### Показания MBean-классов

- **PointStatisticsMBean**:
  - `totalPoints` - общее число точек
  - `missedPoints` - число промахов
  - `consecutiveMisses` - число последовательных промахов

- **PointRatioMBean**:
  - `missRatio` - процент промахов от общего числа точек

### Системная информация

- Имя и версия ОС: можно увидеть во вкладке "Обзор" в разделе "Операционная система"

## Отслеживание уведомлений

JConsole позволяет отслеживать уведомления от MBean. Для этого:
1. Откройте вкладку "MBeans"
2. Выберите `server.beans` -> `type=PointStatistics`
3. Перейдите на вкладку "Уведомления"
4. Нажмите "Подписаться"
5. При возникновении 2-х промахов подряд, будет показано уведомление

## Запуск тестового монитора

Для быстрого тестирования MBean используйте класс `MBeanMonitor`:

```shell
java -cp target/classes server.MBeanMonitor
``` 